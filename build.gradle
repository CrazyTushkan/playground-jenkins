apply plugin: "groovy"

repositories {
    mavenCentral()
}

dependencies {
    compile group: "org.codehaus.groovy", name: "groovy-all", version: "2.4.8"
    // compile localGroovy()
    testCompile group: "junit", name: "junit", version: "4.12"
    testCompile group: "com.lesfurets", name: "jenkins-pipeline-unit", version: "1.1"
    
}

sourceSets {
    main {
        groovy {
            srcDirs = ["src/main/groovy"]
            include("Jenkinsfile")
        }
    }

    test {
        groovy {
            srcDirs = ["src/test"]
        }
    }
}

test {
    ignoreFailures = true
    testLogging {
        showStandardStreams = true
        events "PASSED", "FAILED", "SKIPPED", "standardOut", "standardError"
    }
}
